(this["webpackJsonpgherkin-editor"]=this["webpackJsonpgherkin-editor"]||[]).push([[0],{18:function(e,t,n){e.exports=n(30)},23:function(e,t,n){},24:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(17),o=n.n(r),c=(n(23),n(2)),s=n(3),u=n(5),l=n(4),d=n(1),p=n(6),h=(n(24),n(7)),f=n.n(h),m=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleUpdateFeatureName=n.updateFeatureName.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("h1",null,"Feature: ",i.a.createElement("input",{defaultValue:this.props.title,onBlur:this.handleUpdateFeatureName}))}},{key:"updateFeatureName",value:function(e){this.props.updateFeatureName(e.target.value)}}]),t}(i.a.Component),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.props.onAnnotationChange(e.target.value)}},{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement("input",{type:"text",defaultValue:this.props.annotation.trim(),name:"annotation",list:"annotations",onBlur:this.handleChange}),i.a.createElement("datalist",{id:"annotations"},i.a.createElement("select",null,i.a.createElement("option",{value:"Given"}),i.a.createElement("option",{value:"When"}),i.a.createElement("option",{value:"And"}))))}}]),t}(i.a.Component),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement("input",{type:"text",defaultValue:this.props.text.trim(),name:"text",onBlur:this.handleChange}))}},{key:"handleChange",value:function(e){this.props.onTextChange(e.target.value)}}]),t}(i.a.Component),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onAnnotationChange=n.editStepAnnotation.bind(Object(d.a)(n)),n.onTextChange=n.editStepText.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("li",null,i.a.createElement(b,{annotation:this.props.step.keyword,onAnnotationChange:this.onAnnotationChange}),i.a.createElement(v,{text:this.props.step.text,onTextChange:this.onTextChange}))}},{key:"editStepAnnotation",value:function(e){var t=Object.assign(this.props.step);t.keyword=e+" ",this.props.onEditStep(t,this.props.index)}},{key:"editStepText",value:function(e){var t=Object.assign(this.props.step);t.text=e,this.props.onEditStep(t,this.props.index)}}]),t}(i.a.Component),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onEditScenarioName=n.editScenarioName.bind(Object(d.a)(n)),n.onEditStep=n.editStep.bind(Object(d.a)(n)),n.addStep=n.addStep.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("li",null,this.scenarioHeader(),i.a.createElement("ul",null,this.scenarioSteps(),i.a.createElement("button",{onClick:this.addStep},"+ Add step")))}},{key:"scenarioHeader",value:function(){return i.a.createElement("h2",null,this.props.scenario.keyword,": ",i.a.createElement("input",{defaultValue:this.props.scenario.name,onBlur:this.onEditScenarioName}))}},{key:"scenarioSteps",value:function(){var e=this;return this.props.scenario.steps.map((function(t,n){return i.a.createElement(j,{step:t,index:n,onEditStep:e.onEditStep})}))}},{key:"editScenarioName",value:function(e){var t=Object.assign(this.props.scenario);t.name=e.target.value,this.props.updateFeatureChild(t,this.props.index)}},{key:"editStep",value:function(e,t){var n=Object.assign(this.props.scenario);n.steps[t]=e,this.props.updateFeatureChild(n,this.props.index)}},{key:"addStep",value:function(){Object.assign(this.props.scenario);var e=this.props.scenario.steps.length,t=this.props.scenario.steps[e-1],n=null;if(t)n=t.location;else{var a=this.props.scenario.location;n={line:a.line,column:a.column+2}}this.props.addNewStepLine(n)}}]),t}(i.a.Component),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).onUpdateFeatureName=n.updateFeatureName.bind(Object(d.a)(n)),n.onUpdateFeatureChild=n.updateFeatureChild.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.featureScenarios().map((function(t,n){return i.a.createElement(O,{scenario:t,index:n,updateFeatureChild:e.onUpdateFeatureChild,addNewStepLine:e.props.addNewStepLine})}));return i.a.createElement("div",null,i.a.createElement(m,{title:this.featureName(),updateFeatureName:this.onUpdateFeatureName}),i.a.createElement("ul",null,t,i.a.createElement("button",{onClick:this.props.addNewScenario},"+ Add scenario")))}},{key:"featureName",value:function(){return this.props.ast.feature.name}},{key:"featureScenarios",value:function(){return this.props.ast.feature.children}},{key:"updateFeatureName",value:function(e){var t=Object.assign(this.props.ast);t.feature.name=e,this.props.onAstUpdated(t)}},{key:"updateFeatureChild",value:function(e,t){var n=Object.assign(this.props.ast);n.feature.children[t]=e,this.props.onAstUpdated(n)}}]),t}(i.a.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("hr",null),i.a.createElement("textarea",{value:this.props.txtDefinition,rows:"20",readonly:"true"}))}}]),t}(i.a.Component),S=function(){function e(t){Object(c.a)(this,e),this.ast=t}return Object(s.a)(e,[{key:"toGherkin",value:function(){var e=this.handleFeatureNode(this.ast.feature);return this.renderAsString(e)}},{key:"handleFeatureNode",value:function(e){var t=this.handleFeaturePrototype(e),n=this.handleFeatureChildren(e.children);return[].concat(t).concat(n)}},{key:"handleFeaturePrototype",value:function(e){return[{location:e.location,text:"".concat(e.keyword,": ").concat(e.name)}]}},{key:"handleFeatureChildren",value:function(e){var t=this,n=[];return e.forEach((function(e){var a=[{location:e.location,text:"".concat(e.keyword,": ").concat(e.name)}],i=t.handleSteps(e.steps);n=n.concat(a).concat(i)})),n}},{key:"handleSteps",value:function(e){var t=[];return e.forEach((function(e){t=t.concat({location:e.location,text:"".concat(e.keyword).concat(e.text)})})),t}},{key:"renderAsString",value:function(e){var t=e.reduce((function(e,t){return e.location.line>t.location.line?e:t})).location.line+1,n=new Array(t);return e.forEach((function(e){var t=new Array(e.location.column).join(" ");n[e.location.line-1]=t+e.text})),n.join("\n")}}]),e}(),E=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(u.a)(this,Object(l.a)(t).call(this,e));var a=["Feature: Shout thing","","Scenario: my scenario",'  Given a "context"',"  When I do things","  Then I should see some benefits",""].join("\n"),i=n.computeAst(a);return n.state={txtDefinition:a,ast:i},n.onAstUpdated=n.updateAst.bind(Object(d.a)(n)),n.onAddNewStepLine=n.addNewStepLine.bind(Object(d.a)(n)),n.onAddNewScenario=n.addNewScenario.bind(Object(d.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(k,{ast:this.state.ast,onAstUpdated:this.onAstUpdated,addNewStepLine:this.onAddNewStepLine,addNewScenario:this.onAddNewScenario}),i.a.createElement(y,{txtDefinition:this.state.txtDefinition}))}},{key:"computeAst",value:function(e){var t=new f.a.Parser(new f.a.AstBuilder),n=new f.a.TokenScanner(e),a=new f.a.TokenMatcher;return t.parse(n,a)}},{key:"updateAst",value:function(e){var t=new S(e).toGherkin();this.setState({ast:e,txtDefinition:t})}},{key:"addNewStepLine",value:function(e){var t=Object.assign(this.state.txtDefinition),n=t.split("\n"),a=new Array(e.column).join(" ");n.splice(e.line,0,a+"* "),t=n.join("\n"),this.setState({ast:this.computeAst(t),txtDefinition:t})}},{key:"addNewScenario",value:function(){var e=Object.assign(this.state.txtDefinition),t=e.split("\n");t.push("Scenario: \n"),e=t.join("\n"),this.setState({ast:this.computeAst(e),txtDefinition:e})}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.39032c79.chunk.js.map