(this["webpackJsonpgherkin-editor"]=this["webpackJsonpgherkin-editor"]||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(64),o=n.n(i),c=(n(76),n(20)),u=n(21),d=n(69),l=n(65),s=n(22),p=n(70),m=(n(77),n(23)),f=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"gherkin-keyword"},e.keyword,":"),r.a.createElement("input",{placeholder:"Empty name",defaultValue:e.title,onBlur:function(t){return e.updateTitle(t.target.value)}}))},h=function(e){return r.a.createElement("div",{class:"description-wrapper"},r.a.createElement("textarea",{class:"editable-description",placeholder:"No description",defaultValue:e.description,onBlur:function(t){return e.updateDescription(t.target.value)}}))},E=function(e){return r.a.createElement("h2",{className:"editable-title"},r.a.createElement(f,{keyword:e.keyword,title:e.name,updateTitle:e.actions.editScenarioName}),r.a.createElement("button",{className:"btn--secondary",onClick:e.actions.onDeleteScenario},"Delete"))},v=n(2),S=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"addStepAt",value:function(t,n){var a=Object.assign(t),r=a.steps.length>0?"And ":"Given ",i=e._newStepNode(r),o=t.steps;return n===parseInt(n,10)?o.splice(n+1,0,i):o.push(i),a}},{key:"updateStep",value:function(e,t,n,a){var r=Object.assign(e);return t&&(r.keyword=t+" "),n&&(r.text=n),r}},{key:"_newStepNode",value:function(e){return{id:v.IdGenerator.uuid()(),keyword:e,location:{line:null,column:null},text:"",argument:void 0}}}]),e}(),k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",autoFocus:!0,defaultValue:e.text.trim(),name:"text",onBlur:function(t){return e.onTextChange(t.target.value)},onKeyDown:function(t){"Enter"===t.key&&e.updateStepAndCreateOne(t.target.value)}}))},A=n(68),w=function(e){return r.a.createElement("select",{class:"gherkin-keyword",name:"annotation",value:e.keyword,onChange:function(t){e.onAnnotationChange(t.target.value)}},r.a.createElement("option",{value:"*"},"*"),r.a.createElement("option",{value:"Given"},"Given"),r.a.createElement("option",{value:"When"},"When"),r.a.createElement("option",{value:"And"},"And"),r.a.createElement("option",{value:"Then"},"Then"),r.a.createElement("option",{value:"But"},"But"))},x=function(e){var t=Object(a.useState)(e.keyword.slice().trim()),n=Object(A.a)(t,2),i=n[0],o=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{keyword:i,onAnnotationChange:function(t){""!==t.trim()?(o(t),e.onAnnotationChange(t)):o(e.keyword.slice().trim())}}))},y=function(e){var t=e.stepEditionMethods,n=t.editStepAnnotation,a=t.editStepText,i=t.updateStepAndCreateOne;return r.a.createElement("li",{class:"step","data-index":e.index},r.a.createElement(x,{keyword:e.keyword,onAnnotationChange:n}),r.a.createElement(k,{text:e.text,onTextChange:a,updateStepAndCreateOne:i}))},g=function(e){var t={editStepAnnotation:function(t){var n=S.updateStep(e.step,t,null,e.index);e.onEditStep(n,e.index)},editStepText:function(t){var n=S.updateStep(e.step,null,t,e.index);e.onEditStep(n,e.index)},updateStepAndCreateOne:function(t){var n=S.updateStep(e.step,null,t,e.index);e.onEditAndAddStep(n,e.index)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{index:e.index,keyword:e.step.keyword,text:e.step.text,stepEditionMethods:t}))},b=function(e){return r.a.createElement("ul",{className:"steps-list"},e.steps.map((function(t,n){return r.a.createElement(g,{key:t.id,step:t,index:n,onEditStep:e.actions.editStep,onAddStep:e.actions.addStep,onEditAndAddStep:e.actions.editAndAddStep})})),r.a.createElement("button",{className:"btn--secondary",onClick:e.actions.addStep},"Add step"))},C=function(e){return r.a.createElement("li",{className:"tile"},r.a.createElement(E,{index:e.index,keyword:e.keyword,name:e.name,actions:e.scenarioHeaderActions}),r.a.createElement(h,{description:e.description,updateDescription:e.updateScenarioDescription}),r.a.createElement(b,{steps:e.steps,actions:e.scenarioStepsActions}))},N=function(e){var t=e.index,n=Object(m.a)({},e.scenario),a={editScenarioName:function(a){return n.name=a,e.updateFeatureChild(n,t)},onDeleteScenario:function(){return e.onDeleteScenario(t)}};var i={addStep:function(a){var r=S.addStepAt(n,a);return e.updateFeatureChild(r,t),r},editStep:function(a,r){return n.steps[r]=a,e.updateFeatureChild(n,t),n},editAndAddStep:function(a,r){return n.steps[r]=a,n=S.addStepAt(n,r),e.updateFeatureChild(n,t),n}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{index:t,keyword:n.keyword,name:n.name,description:n.description,updateScenarioDescription:function(a){return n.description=a,e.updateFeatureChild(n,t)},steps:n.steps,scenarioHeaderActions:a,scenarioStepsActions:i}))},F=function(e){var t=null,n=e.scenarioActions;if(e.featureChildren.length>0){var a=e.featureChildren.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{key:e.scenario.id,scenario:e.scenario,index:t,updateFeatureChild:n.updateFeatureChild,onDeleteScenario:n.deleteScenario}),r.a.createElement("button",{className:"tiles-list__gutter-action btn--main",onClick:function(){return n.createNewScenario(t,!1)}},"+"))}));t=r.a.createElement("ul",{className:"tiles-list"},r.a.createElement("button",{className:"tiles-list__gutter-action btn--main",onClick:function(){return n.createNewScenario(":first",!1)}},"+"),a)}else t=r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn--main",onClick:function(){return n.createNewScenario(0,!1)}},"Add a first scenario"));return r.a.createElement("div",{className:"visual-editor"},r.a.createElement("h1",{className:"editable-title"},r.a.createElement(f,{keyword:e.keyword,title:e.name,updateTitle:e.updateFeatureName})),r.a.createElement(h,{description:e.description,updateDescription:e.updateFeatureDescription}),t)},O=function(e){var t=e.ast.feature,n=Object(m.a)({},e.ast),a={updateFeatureChild:function(t,a){n.feature.children[a]={scenario:t},e.onAstUpdated(n)},createNewScenario:function(t,a){var r={examples:[],id:v.IdGenerator.uuid()(),keyword:a?"Scenario Outline":"Scenario",location:{line:null,column:null},name:"",steps:[],tags:[]},i=":first"===t?0:t+1;n.feature.children.splice(i,0,{scenario:r}),e.onAstUpdated(n)},deleteScenario:function(t){n.feature.children.splice(t,1),e.onAstUpdated(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{keyword:t.keyword,name:t.name,description:t.description,featureChildren:t.children,scenarioActions:a,updateFeatureName:function(t){n.feature.name=t,e.onAstUpdated(n)},updateFeatureDescription:function(t){n.feature.description=t,e.onAstUpdated(n)}}))},D=function(e){return r.a.createElement("div",{className:"text-renderer"},r.a.createElement("textarea",{id:"gherkin-render",value:e.txtDefinition,rows:"20",readonly:"true"}))},j=n(38),T=n(66),B=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(d.a)(this,Object(l.a)(t).call(this,e));var a=["Feature:","You can add a description to the feature","  Scenario: A simple Gherkin example","    Given some context","    When I perform an action","    Then I should observe an expected outcome"].join("\n"),r=n.computeAst(a);return n.state={txtDefinition:a,ast:r},n.onAstUpdated=n.updateAst.bind(Object(s.a)(n)),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"l-app"},r.a.createElement(O,{ast:this.state.ast,onAstUpdated:this.onAstUpdated,addNewScenario:this.onAddNewScenario}),r.a.createElement(D,{txtDefinition:this.state.txtDefinition}))}},{key:"computeAst",value:function(e){var t=v.IdGenerator.uuid(),n=new j.Parser(new j.AstBuilder(t)).parse(e);return n.uri="",n}},{key:"updateAst",value:function(e){var t=Object(T.pretty)(e);this.setState({ast:e,txtDefinition:t})}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(67),U=n.n(G);o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),U.a.load({google:{families:["Open Sans:300,400,600","sans-serif"]}})},71:function(e,t,n){e.exports=n(132)},76:function(e,t,n){},77:function(e,t,n){},81:function(e,t){},83:function(e,t){}},[[71,1,2]]]);
//# sourceMappingURL=main.d087765a.chunk.js.map